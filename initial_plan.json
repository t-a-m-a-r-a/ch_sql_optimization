{
"EXPLAIN PLAN json = 1, indexes = 1, description = 1\r\nselect\r\n\tu.user_id, u.name, u.country\r\n\t, count(o.order_id) as total_orders\r\n\t, sum(o.amount) as total_amount\r\nfrom users u\r\njoin orders o\r\non u.user_id = o.user_id\r\nwhere o.order_date >= today() - 30\r\n\tand o.status != 'cancelled'\r\ngroup by u.user_id, u.name, u.country\r\norder by total_orders desc, total_amount desc\r\nlimit 10": [
	{
		"explain" : "[\n  {\n    \"Plan\": {\n      \"Node Type\": \"Expression\",\n      \"Node Id\": \"Expression_12\",\n      \"Description\": \"Project names\",\n      \"Plans\": [\n        {\n          \"Node Type\": \"Limit\",\n          \"Node Id\": \"Limit_11\",\n          \"Description\": \"preliminary LIMIT (without OFFSET)\",\n          \"Plans\": [\n            {\n              \"Node Type\": \"Sorting\",\n              \"Node Id\": \"Sorting_10\",\n              \"Description\": \"Sorting for ORDER BY\",\n              \"Plans\": [\n                {\n                  \"Node Type\": \"Expression\",\n                  \"Node Id\": \"Expression_17\",\n                  \"Description\": \"(Before ORDER BY + Projection)\",\n                  \"Plans\": [\n                    {\n                      \"Node Type\": \"Aggregating\",\n                      \"Node Id\": \"Aggregating_7\",\n                      \"Plans\": [\n                        {\n                          \"Node Type\": \"Expression\",\n                          \"Node Id\": \"Expression_16\",\n                          \"Description\": \"(Before GROUP BY + )\",\n                          \"Plans\": [\n                            {\n                              \"Node Type\": \"Expression\",\n                              \"Node Id\": \"Expression_20\",\n                              \"Plans\": [\n                                {\n                                  \"Node Type\": \"Join\",\n                                  \"Node Id\": \"Join_19\",\n                                  \"Plans\": [\n                                    {\n                                      \"Node Type\": \"Expression\",\n                                      \"Node Id\": \"Expression_1\",\n                                      \"Description\": \"Change column names to column identifiers\",\n                                      \"Plans\": [\n                                        {\n                                          \"Node Type\": \"ReadFromMergeTree\",\n                                          \"Node Id\": \"ReadFromMergeTree_0\",\n                                          \"Description\": \"default.users\",\n                                          \"Indexes\": [\n                                            {\n                                              \"Type\": \"PrimaryKey\",\n                                              \"Condition\": \"true\",\n                                              \"Initial Parts\": 1,\n                                              \"Selected Parts\": 1,\n                                              \"Initial Granules\": 123,\n                                              \"Selected Granules\": 123\n                                            }\n                                          ]\n                                        }\n                                      ]\n                                    },\n                                    {\n                                      \"Node Type\": \"Expression\",\n                                      \"Node Id\": \"Expression_18\",\n                                      \"Plans\": [\n                                        {\n                                          \"Node Type\": \"ReadFromMergeTree\",\n                                          \"Node Id\": \"ReadFromMergeTree_2\",\n                                          \"Description\": \"default.orders\",\n                                          \"Indexes\": [\n                                            {\n                                              \"Type\": \"PrimaryKey\",\n                                              \"Condition\": \"true\",\n                                              \"Initial Parts\": 4,\n                                              \"Selected Parts\": 4,\n                                              \"Initial Granules\": 1222,\n                                              \"Selected Granules\": 1222\n                                            }\n                                          ]\n                                        }\n                                      ]\n                                    }\n                                  ]\n                                }\n                              ]\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n]"
	}
]}
